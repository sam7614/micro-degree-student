<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TU 학습설계 AI 어시스턴트</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://unpkg.com/prop-types@15.8.1/prop-types.min.js"></script>
    <script src="https://unpkg.com/react-is@18.2.0/umd/react-is.development.js"></script>
    
    <script src="https://unpkg.com/recharts@2.12.3/umd/Recharts.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <style>
        body { font-family: 'Inter', sans-serif; }
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        @keyframes slideInLeft { from { transform: translateX(-100%); } to { transform: translateX(0); } }
        .animate-slide-in-left { animation: slideInLeft 0.3s ease-out forwards; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { PieChart, Pie, Cell, ResponsiveContainer, Label } = window.Recharts;

        // --- 1. 아이콘 컴포넌트들 ---
        const DashboardIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="7" height="9" x="3" y="3" rx="1"></rect><rect width="7" height="5" x="14" y="3" rx="1"></rect><rect width="7" height="9" x="14" y="12" rx="1"></rect><rect width="7" height="5" x="3" y="16" rx="1"></rect></svg>;
        const HistoryIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path><path d="M12 7v5l4 2"></path></svg>;
        const ExploreIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m21 16-4-4-4 4"></path><path d="m17 20v-12l-4 4-4-4v12l4 4z"></path><path d="M3 16l4-4 4 4"></path><path d="M7 20v-12l-4 4-4-4v12l4 4z"></path></svg>;
        const DesignIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21.2 15.2c.2-1.2.2-2.5 0-3.7l1.2-1.5c.3-.3.2-.7-.1-1l-3.4-6c-.3-.4-.8-.4-1.1-.1l-1.8 1.2c-1.1-.3-2.2-.4-3.4-.4s-2.3.1-3.4.4L6.1 2.7c-.3-.3-.8-.3-1.1.1l-3.4 6c-.3.3-.3.7-.1 1l1.2 1.5c-.2 1.2-.2 2.5 0 3.7l-1.2 1.5c-.3.3-.2.7.1 1l3.4 6c.3.4.8.4 1.1.1l1.8-1.2c1.1.3 2.2.4 3.4.4s2.3-.1 3.4-.4l1.8 1.2c.3.3.8.3 1.1-.1l3.4-6c.3-.3.3-.7.1-1l-1.2-1.5z"></path><circle cx="12" cy="12" r="3"></circle></svg>;
        const AiIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1.3.5 2.6 1.5 3.5.7.8 1.3 1.5 1.5 2.5"></path><path d="M9 18h6"></path><path d="M10 22h4"></path></svg>;
        const XIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>;
        const ChevronDown = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>;


        // --- 2. 상태 상수 (Types) ---
        const ViewState = {
            DASHBOARD: 'DASHBOARD',
            LEARNING_HISTORY: 'LEARNING_HISTORY',
            MODULE_EXPLORATION: 'MODULE_EXPLORATION',
            CURRICULUM_DESIGN: 'CURRICULUM_DESIGN',
            AI_RECOMMENDATION: 'AI_RECOMMENDATION'
        };

        // --- 3. 배경 효과 (Lego) ---
        const LegoStackingBackground = () => {
            const [blocks, setBlocks] = useState([]);
            const containerRef = useRef(null);
            const colHeights = useRef([]); 
            const COLORS = ['#EF4444', '#3B82F6', '#F59
