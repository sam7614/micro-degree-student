<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TU í•™ìŠµì„¤ê³„ AI ì–´ì‹œìŠ¤í„´íŠ¸</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://unpkg.com/prop-types@15.8.1/prop-types.min.js"></script>
    <script src="https://unpkg.com/react-is@18.2.0/umd/react-is.development.js"></script>
    
    <script src="https://unpkg.com/recharts@2.12.3/umd/Recharts.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <style>
        body { font-family: 'Inter', sans-serif; }
        /* ìŠ¤í¬ë¡¤ë°” ë””ìì¸ */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }

        /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        
        @keyframes slideInLeft { from { transform: translateX(-100%); } to { transform: translateX(0); } }
        .animate-slide-in-left { animation: slideInLeft 0.3s ease-out forwards; }
        
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <div id="root"></div>

    <!-- MAIN SCRIPT -->
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        // Access Recharts from the global window object
        const { PieChart, Pie, Cell, ResponsiveContainer, Label } = window.Recharts;

        // --- 1. ICONS ---
        const DashboardIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="7" height="9" x="3" y="3" rx="1"></rect><rect width="7" height="5" x="14" y="3" rx="1"></rect><rect width="7" height="9" x="14" y="12" rx="1"></rect><rect width="7" height="5" x="3" y="16" rx="1"></rect></svg>;
        const HistoryIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path><path d="M12 7v5l4 2"></path></svg>;
        const ExploreIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m21 16-4-4-4 4"></path><path d="m17 20v-12l-4 4-4-4v12l4 4z"></path><path d="M3 16l4-4 4 4"></path><path d="M7 20v-12l-4 4-4-4v12l4 4z"></path></svg>;
        const DesignIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21.2 15.2c.2-1.2.2-2.5 0-3.7l1.2-1.5c.3-.3.2-.7-.1-1l-3.4-6c-.3-.4-.8-.4-1.1-.1l-1.8 1.2c-1.1-.3-2.2-.4-3.4-.4s-2.3.1-3.4.4L6.1 2.7c-.3-.3-.8-.3-1.1.1l-3.4 6c-.3.3-.3.7-.1 1l1.2 1.5c-.2 1.2-.2 2.5 0 3.7l-1.2 1.5c-.3.3-.2.7.1 1l3.4 6c.3.4.8.4 1.1.1l1.8-1.2c1.1.3 2.2.4 3.4.4s2.3-.1 3.4-.4l1.8 1.2c.3.3.8.3 1.1-.1l3.4-6c.3-.3.3-.7.1-1l-1.2-1.5z"></path><circle cx="12" cy="12" r="3"></circle></svg>;
        const AiIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1.3.5 2.6 1.5 3.5.7.8 1.3 1.5 1.5 2.5"></path><path d="M9 18h6"></path><path d="M10 22h4"></path></svg>;
        const ChevronDown = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>;
        const PlusIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>;
        const XIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>;
        const CheckIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>;

        // --- 2. TYPES & MOCK DATA (Merged) ---
        const ViewState = {
            DASHBOARD: 'DASHBOARD',
            LEARNING_HISTORY: 'LEARNING_HISTORY',
            MODULE_EXPLORATION: 'MODULE_EXPLORATION',
            CURRICULUM_DESIGN: 'CURRICULUM_DESIGN',
            AI_RECOMMENDATION: 'AI_RECOMMENDATION'
        };

        // Mock Service
        const getModuleRecommendations = async (profile) => {
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve({
                        microDegrees: [
                            {
                                title: "AI ìœµí•© ë¹„ì¦ˆë‹ˆìŠ¤ MD",
                                dept: "ê²½ì˜í•™ê³¼ + ì»´í“¨í„°ê³µí•™ê³¼",
                                reason: "ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ ì§€ì‹ê³¼ AI ê¸°ìˆ ì„ ê²°í•©í•˜ì—¬ ì‹¤ë¬´ì ì¸ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ì„ í‚¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                                matchType: "Strong",
                                tags: ["AI", "ë¹„ì¦ˆë‹ˆìŠ¤"]
                            },
                            {
                                title: "ë¹…ë°ì´í„° ë¶„ì„ ê¸°ì´ˆ MD",
                                dept: "ì‚°ì—…ê³µí•™ê³¼ ì£¼ê´€",
                                reason: "ë°ì´í„° ì „ì²˜ë¦¬ë¶€í„° ì‹œê°í™”ê¹Œì§€ í•µì‹¬ ì—­ëŸ‰ì„ ë¹ ë¥´ê²Œ ìŠµë“í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                                matchType: "Normal",
                                tags: ["ë°ì´í„°", "ë¶„ì„"]
                            }
                        ],
                        doubleMajors: [
                            {
                                title: "AI ì„œë¹„ìŠ¤ ê²½ì˜ ë³µìˆ˜ì „ê³µ",
                                dept: "AIí•™ë¶€ + ê²½ì˜í•™ê³¼",
                                reason: "'AI ì„œë¹„ìŠ¤ ê°œë°œì MD'ì™€ 'ë””ì§€í„¸ ë§ˆì¼€íŒ… MD'ë¥¼ ê²°í•©í•˜ì—¬ ê¸°ìˆ  ê¸°ë°˜ì˜ ì°½ì—… ë˜ëŠ” PM ì—­ëŸ‰ì„ ì™„ì„±í•©ë‹ˆë‹¤.",
                                matchType: "Strong",
                                tags: ["ê¸°ìˆ ê²½ì˜", "ì°½ì—…"]
                            }
                        ],
                        minors: [
                            {
                                title: "ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤ ë¶€ì „ê³µ",
                                dept: "ë°ì´í„°ì‚¬ì´ì–¸ìŠ¤í•™ê³¼",
                                reason: "í•µì‹¬ ë°ì´í„° ë¶„ì„ êµê³¼ëª© 24í•™ì ì„ ì´ìˆ˜í•˜ì—¬ ì „ê³µ ë¶„ì•¼ì˜ ë°ì´í„° í™œìš© ëŠ¥ë ¥ì„ ì…ì¦í•©ë‹ˆë‹¤.",
                                matchType: "Normal",
                                tags: ["í†µê³„", "R/Python"]
                            }
                        ]
                    });
                }, 1500);
            });
        };

        // --- 3. COMMON COMPONENTS ---
        
        // Lego Background
        const LegoStackingBackground = () => {
            const [blocks, setBlocks] = useState([]);
            const containerRef = useRef(null);
            const colHeights = useRef([]); 
            const COLORS = ['#EF4444', '#3B82F6', '#F59E0B', '#10B981', '#FFFFFF', '#8B5CF6'];
            const BLOCK_SIZE = 60;

            useEffect(() => {
                if (!containerRef.current) return;
                const cols = Math.ceil(window.innerWidth / BLOCK_SIZE);
                colHeights.current = new Array(cols).fill(0);
                let blockIdCounter = 0;
                const maxBlocks = 50;

                const interval = setInterval(() => {
                    if (blockIdCounter >= maxBlocks) {
                        clearInterval(interval);
                        return;
                    }
                    const randomCol = Math.floor(Math.random() * cols);
                    const currentColor = COLORS[Math.floor(Math.random() * COLORS.length)];
                    const currentHeight = colHeights.current[randomCol];
                    
                    const newBlock = {
                        id: blockIdCounter++,
                        col: randomCol,
                        targetBottom: currentHeight,
                        color: currentColor,
                    };
                    setBlocks(prev => [...prev, newBlock]);
                    colHeights.current[randomCol] += (BLOCK_SIZE * 0.8);
                }, 600);
                return () => clearInterval(interval);
            }, []);

            return (
                <div ref={containerRef} className="fixed inset-0 overflow-hidden pointer-events-none -z-10 bg-gray-100">
                    <style>{`
                        .lego-block {
                            position: absolute; width: 60px; height: 50px; border-radius: 2px;
                            box-shadow: inset -2px -4px 0 rgba(0,0,0,0.15), 4px 4px 8px rgba(0,0,0,0.05);
                            transition: top 1s cubic-bezier(0.25, 1, 0.5, 1); will-change: top;
                        }
                        .lego-block::before {
                            content: ''; position: absolute; top: -8px; left: 6px; width: 48px; height: 8px;
                            background-color: inherit; filter: brightness(1.1); border-radius: 4px 4px 0 0;
                            box-shadow: 0 1px 2px rgba(0,0,0,0.2);
                        }
                        .lego-block::after {
                            content: ''; position: absolute; right: -6px; top: 0; width: 6px; height: 100%;
                            background-color: inherit; filter: brightness(0.8); transform: skewY(-45deg);
                            transform-origin: top left; opacity: 0.5;
                        }
                    `}</style>
                    {blocks.map((block) => (
                        <div key={block.id} className="lego-block"
                            style={{
                                left: block.col * BLOCK_SIZE,
                                backgroundColor: block.color,
                                top: -100,
                                transform: `translateY(calc(100vh - ${block.targetBottom + 60}px))`, 
                                transitionDuration: '1.5s'
                            }}
                        />
                    ))}
                </div>
            );
        };

        // --- 4. VIEWS ---

        // 4.1 Dashboard View
        const DashboardView = () => {
            const [expanded, setExpanded] = useState({});
            const [isWeeklyModalOpen, setIsWeeklyModalOpen] = useState(false);
            const [selectedSubject, setSelectedSubject] = useState(null);

            const toggle = (id) => setExpanded(prev => ({ ...prev, [id]: !prev[id] }));

            // Mock Data
            const WEEKLY_ANALYSIS_DATA = [
                {
                    id: 'w1',
                    title: 'ë¯¸ë˜í˜• ì—ë“€í…Œí¬ ìœ ì•„êµìœ¡',
                    industryTrend: 'AI, VR/AR ë“± ë””ì§€í„¸ ê¸°ìˆ ì„ í™œìš©í•œ ë†€ì´ ì¤‘ì‹¬ ëˆ„ë¦¬ê³¼ì • êµìœ¡ ì½˜í…ì¸  ìˆ˜ìš” ê¸‰ì¦.',
                    hiringPlan: 'êµ­ê³µë¦½ ìœ ì¹˜ì› ë° ëŒ€í˜• êµìœ¡ ê¸°ì—…ì—ì„œ ë””ì§€í„¸ ë§¤ì²´ í™œìš© ëŠ¥ë ¥ì„ ê°–ì¶˜ êµì‚¬ ìš°ëŒ€.',
                    reason: 'ë””ì§€í„¸ ë„¤ì´í‹°ë¸Œ ì„¸ëŒ€ì¸ ìœ ì•„ë“¤ì„ ìœ„í•œ ìŠ¤ë§ˆíŠ¸ ê¸°ê¸° í™œìš© ë° ì½”ë”© ë†€ì´ ì§€ë„ ì—­ëŸ‰ í•„ìˆ˜.',
                    subjects: ['ìœ ì•„ë””ì§€í„¸êµìœ¡', 'ë†€ì´ì§€ë„', 'ìœ ì•„êµê³¼êµìœ¡ë¡ ', 'ì•„ë™ê´€ì°°ë°í–‰ë™ì—°êµ¬']
                },
                {
                    id: 'w2',
                    title: 'ì•„ë™ ì‹¬ë¦¬ ì •ì„œ ì¼€ì–´',
                    industryTrend: 'ë§ë²Œì´ ê°€ì • ì¦ê°€ ë° ë°œë‹¬ ì§€ì—° ì•„ë™ ì´ìŠˆë¡œ ë³´ìœ¡ í˜„ì¥ ì‹¬ë¦¬/ì •ì„œ ì¼€ì–´ ì „ë¬¸ì„± ìš”êµ¬ ì¦ëŒ€.',
                    hiringPlan: 'ì§ì¥ ì–´ë¦°ì´ì§‘ ë° ìœ¡ì•„ì¢…í•©ì§€ì›ì„¼í„°ì—ì„œ ì•„ë™ ìƒë‹´ ë° ë¬¸ì œ í–‰ë™ ì§€ë„ ì—­ëŸ‰ ì „ë¬¸ê°€ ìˆ˜ìš” ì¦ê°€.',
                    reason: 'ë‹¨ìˆœ ë³´ìœ¡ì„ ë„˜ì–´ì„  ì •ì„œì  ìœ ëŒ€ê° í˜•ì„±ê³¼ ë¬¸ì œ í–‰ë™ ì¡°ê¸° ë°œê²¬ ë° ì¤‘ì¬ ëŠ¥ë ¥ ì¤‘ìš”.',
                    subjects: ['ì•„ë™ìƒë‹´', 'ìœ ì•„ë°œë‹¬', 'ìœ ì•„ì‚¬íšŒêµìœ¡', 'ë¶€ëª¨êµìœ¡']
                }
            ];

            const SUBJECT_PROFILES = {
                'ìœ ì•„ë””ì§€í„¸êµìœ¡': {
                    name: 'ìœ ì•„ë””ì§€í„¸êµìœ¡',
                    overview: '4ì°¨ ì‚°ì—…í˜ëª… ì‹œëŒ€ì— ë°œë§ì¶° ìœ ì•„êµìœ¡ í˜„ì¥ì—ì„œ í™œìš© ê°€ëŠ¥í•œ ë””ì§€í„¸ ë§¤ì²´ì™€ ì½˜í…ì¸ ë¥¼ ì´í•´í•˜ê³  ì ìš©í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•œë‹¤.',
                    objectives: ['ë””ì§€í„¸ ë§¤ì²´ì˜ êµìœ¡ì  ê°€ì¹˜ ì„¤ëª…', 'ë””ì§€í„¸ ë†€ì´ ì½˜í…ì¸  ì„ ë³„ ë° ê¸°íš', 'ìŠ¤ë§ˆíŠ¸ ê¸°ê¸° í™œìš© ëª¨ì˜ ìˆ˜ì—… ì‹œì—°'],
                    competencies: ['ë””ì§€í„¸ ë¦¬í„°ëŸ¬ì‹œ', 'êµìˆ˜í•™ìŠµ ì„¤ê³„', 'ì°½ì˜ì  ë¬¸ì œí•´ê²°'],
                    methods: ['ê°•ì˜/í† ë¡ ', 'PBL', 'ëª¨ì˜ ìˆ˜ì—…'],
                    weeklyPlan: Array.from({length: 15}, (_, i) => ({
                        week: i + 1, topic: `ë””ì§€í„¸ êµìœ¡ ì£¼ì œ ${i+1}`, objectives: 'ë””ì§€í„¸ ë„êµ¬ í™œìš© ëŠ¥ë ¥ ë°°ì–‘', materials: 'PPT, íƒœë¸”ë¦¿'
                    }))
                }
            };

            const handleSubjectClick = (name) => {
                const profile = SUBJECT_PROFILES[name] || {
                    name: name,
                    overview: `${name} êµê³¼ëª©ì— ëŒ€í•œ ê°œìš” ì •ë³´ì…ë‹ˆë‹¤. ìœ ì•„êµìœ¡ ì „ë¬¸ê°€ ì–‘ì„±ì„ ìœ„í•œ í•µì‹¬ ì—­ëŸ‰ì„ ë‹¤ë£¹ë‹ˆë‹¤.`,
                    objectives: ['ê¸°ì´ˆ ì´ë¡  ìŠµë“', 'ì‹¤ë¬´ ì ìš© ëŠ¥ë ¥ ë°°ì–‘', 'ì „ë¬¸ê°€ì  íƒœë„ í•¨ì–‘'],
                    competencies: ['ì „ê³µ ê¸°ì´ˆ', 'ë¬¸ì œ í•´ê²°', 'ì˜ì‚¬ì†Œí†µ'],
                    methods: ['ê°•ì˜', 'í† ë¡ ', 'ì‹¤ìŠµ'],
                    weeklyPlan: Array.from({length: 15}, (_, i) => ({
                        week: i + 1, topic: `${name} ì£¼ì°¨ë³„ ì£¼ì œ ${i+1}`, objectives: `ì£¼ì°¨ë³„ ëª©í‘œ ë‹¬ì„±`, materials: 'ê°•ì˜ìë£Œ'
                    }))
                };
                setSelectedSubject(profile);
            };

            const pieData = [{ name: 'Completed', value: 102, fill: '#2563EB' }, { name: 'Remaining', value: 18, fill: '#E5E7EB' }];

            return (
                <>
                    <LegoStackingBackground />
                    <div className="animate-fade-in space-y-6 relative z-10">
                        <div className="bg-white/80 backdrop-blur-sm p-6 rounded-lg shadow-sm border border-white/50">
                            <h2 className="text-3xl font-bold mb-1">ì•ˆë…•í•˜ì„¸ìš”, í•œìƒì¤€ë‹˜! ğŸ‘‹</h2>
                            <p className="text-gray-600">ì˜¤ëŠ˜ë„ ë‚˜ë§Œì˜ í•™ìŠµ ì—¬ì •ì„ ë²½ëŒ ìŒ“ë“¯ ì°¨ê³¡ì°¨ê³¡ ìŒ“ì•„ë³´ì„¸ìš”.</p>
                        </div>

                        {/* Module Status */}
                        <div className="bg-white/95 backdrop-blur-sm p-6 rounded-lg shadow-sm">
                            <div className="flex justify-between items-center mb-6">
                                <h3 className="text-lg font-semibold">ëª¨ë“ˆ ì´ìˆ˜ í˜„í™©</h3>
                                <a href="#" className="text-sm text-blue-600 hover:underline">ì „ì²´ ìƒì„¸ë³´ê¸°</a>
                            </div>
                            <div className="flex flex-col md:flex-row items-center justify-between gap-8">
                                <div className="w-full md:w-1/2 space-y-4">
                                    {/* Lists omitted for brevity in single file, basic structure kept */}
                                    <div className="border-b pb-2">
                                        <button onClick={() => toggle('inProgress')} className="w-full flex justify-between items-center text-left py-1">
                                            <span className="text-gray-600">ì´ìˆ˜ ì¤‘ì¸ ëª¨ë“ˆ</span>
                                            <div className="flex items-center gap-2"><span className="font-bold text-lg">3<span className="text-sm ml-1">ê°œ</span></span><ChevronDown className={`w-5 h-5 text-gray-500 transition-transform ${expanded['inProgress'] ? 'rotate-180' : ''}`} /></div>
                                        </button>
                                        {expanded['inProgress'] && <div className="pt-4 pb-2 pl-4 text-sm text-gray-600">ë¹…ë°ì´í„° ê²½ì˜ MD, AI-SW MD, ë””ì§€í„¸ë§ˆì¼€íŒ… MD ì§„í–‰ì¤‘</div>}
                                    </div>
                                    <div className="pt-2 flex justify-between items-center">
                                        <span className="text-gray-800 font-semibold">ì´ ì´ìˆ˜ í•™ì </span>
                                        <span className="font-bold text-lg text-blue-600">102 / 120 <span className="text-sm">í•™ì </span></span>
                                    </div>
                                </div>
                                <div className="w-full md:w-1/2 flex justify-center h-48">
                                    <ResponsiveContainer width="100%" height="100%">
                                        <PieChart>
                                            <Pie data={pieData} cx="50%" cy="50%" innerRadius={60} outerRadius={80} startAngle={90} endAngle={-270} dataKey="value" stroke="none">
                                                {pieData.map((entry, index) => <Cell key={`cell-${index}`} fill={entry.fill} />)}
                                                <Label value="85%" position="center" className="text-3xl font-bold fill-blue-600" style={{ fontSize: '24px', fontWeight: 'bold' }} />
                                            </Pie>
                                        </PieChart>
                                    </ResponsiveContainer>
                                </div>
                            </div>
                        </div>

                        {/* My Credits */}
                        <div className="bg-white/95 backdrop-blur-sm p-6 rounded-lg shadow-sm">
                            <h3 className="text-lg font-semibold mb-6">ë‚˜ì˜ ì´ìˆ˜í•™ì </h3>
                            <div className="space-y-4">
                                <div className="border-b pb-2 flex justify-between items-center">
                                    <span className="text-gray-600">ì „ê³µ ì´ìˆ˜ í•™ì </span>
                                    <span className="font-bold text-lg">57 í•™ì </span>
                                </div>
                                <div className="border-b pb-2 flex justify-between items-center">
                                    <span className="text-gray-600">êµì–‘ ì´ìˆ˜ í•™ì </span>
                                    <span className="font-bold text-lg">42 í•™ì </span>
                                </div>
                                <div className="border-b pb-2 flex justify-between items-center">
                                    <span className="text-gray-600">ê·¸ ì™¸ í•™ì </span>
                                    <span className="font-bold text-lg">3 í•™ì </span>
                                </div>
                                <div className="pt-2 flex justify-between items-center">
                                    <span className="text-gray-800 font-semibold">ì´ ì´ìˆ˜ í•™ì </span>
                                    <span className="font-bold text-lg text-blue-600">102 í•™ì </span>
                                </div>
                            </div>
                        </div>

                        {/* Cards */}
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div className="bg-white/95 backdrop-blur-sm rounded-lg shadow-sm cursor-pointer" onClick={() => setIsWeeklyModalOpen(true)}>
                                <div className="p-6">
                                    <div className="flex justify-between items-start mb-4">
                                        <h3 className="font-semibold text-gray-700">ì´ë²ˆ ì£¼ ì¶”ì²œ ëª¨ë“ˆ</h3>
                                        <div className="w-10 h-10 flex items-center justify-center bg-purple-100 rounded-full"><AiIcon className="w-6 h-6 text-purple-600" /></div>
                                    </div>
                                    <p className="text-3xl font-bold">2ê°œ</p>
                                </div>
                            </div>
                            <div className="bg-white/95 backdrop-blur-sm p-6 rounded-lg shadow-sm">
                                <div className="flex justify-between items-start mb-4">
                                    <h3 className="font-semibold text-gray-700">í•™ìŠµ ì§„ë„</h3>
                                    <div className="w-10 h-10 flex items-center justify-center bg-green-100 rounded-full">
                                        <svg className="w-6 h-6 text-green-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line></svg>
                                    </div>
                                </div>
                                <p className="text-3xl font-bold">85%</p>
                            </div>
                        </div>

                        {/* Weekly Modal */}
                        {isWeeklyModalOpen && (
                            <div className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 animate-fade-in">
                                <div className="bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative flex flex-col">
                                    <div className="sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center z-10">
                                        <h3 className="text-xl font-bold">ğŸ§¸ ìœ ì•„êµìœ¡ ìµœì‹  íŠ¸ë Œë“œ ë¶„ì„ ë¦¬í¬íŠ¸</h3>
                                        <button onClick={() => setIsWeeklyModalOpen(false)}><XIcon className="w-6 h-6 text-gray-500" /></button>
                                    </div>
                                    <div className="p-6 bg-gray-50 flex-1 space-y-6">
                                        {WEEKLY_ANALYSIS_DATA.map(item => (
                                            <div key={item.id} className="bg-white border rounded-xl p-6 shadow-sm">
                                                <h5 className="font-bold text-xl text-gray-900 mb-4">{item.title}</h5>
                                                <p className="text-gray-700 mb-2"><strong>ğŸ“ˆ ë™í–¥:</strong> {item.industryTrend}</p>
                                                <p className="text-gray-700 mb-4"><strong>ğŸ’¡ ì¶”ì²œ ì´ìœ :</strong> {item.reason}</p>
                                                <div className="flex flex-wrap gap-2">
                                                    {item.subjects.map((sub, i) => (
                                                        <button key={i} onClick={() => handleSubjectClick(sub)} className="text-xs font-medium bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full border border-blue-200">
                                                            {sub}
                                                        </button>
                                                    ))}
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Subject Profile Modal */}
                        {selectedSubject && (
                            <div className="fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 animate-fade-in">
                                <div className="bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[85vh] overflow-y-auto relative flex flex-col">
                                    <div className="sticky top-0 bg-blue-600 px-6 py-4 flex justify-between items-center z-10 text-white">
                                        <h3 className="text-xl font-bold">ğŸ“– {selectedSubject.name}</h3>
                                        <button onClick={() => setSelectedSubject(null)}><XIcon className="w-6 h-6 text-white" /></button>
                                    </div>
                                    <div className="p-6 space-y-6">
                                        <div><h4 className="font-bold text-gray-500 mb-2">ê°œìš”</h4><p className="bg-gray-50 p-4 rounded">{selectedSubject.overview}</p></div>
                                        <div><h4 className="font-bold text-gray-500 mb-2">ì£¼ì°¨ë³„ ê°•ì˜ ê³„íš</h4>
                                            <div className="border rounded-lg overflow-hidden text-sm max-h-60 overflow-y-auto">
                                                <table className="min-w-full divide-y divide-gray-200">
                                                    <thead className="bg-gray-100"><tr><th className="px-4 py-2 text-left">ì£¼ì°¨</th><th className="px-4 py-2 text-left">ì£¼ì œ</th></tr></thead>
                                                    <tbody className="bg-white divide-y">{selectedSubject.weeklyPlan.map((p, i) => <tr key={i}><td className="px-4 py-2">{p.week}ì£¼</td><td className="px-4 py-2">{p.topic}</td></tr>)}</tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </>
            );
        };

        // 4.2 AiRecommendation View
        const AiRecommendationView = () => {
            const [profile, setProfile] = useState({ major: '', interests: '', aptitude: '' });
            const [loading, setLoading] = useState(false);
            const [results, setResults] = useState(null);

            const handleAnalyze = async () => {
                if (!profile.major) return alert('ì „ê³µì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                setLoading(true);
                const recs = await getModuleRecommendations(profile);
                setResults(recs);
                setLoading(false);
            };

            return (
                <div className="space-y-6 animate-fade-in">
                    <h2 className="text-3xl font-bold mb-1">AI ë§ì¶¤ í•™ìŠµ ì„¤ê³„</h2>
                    <div className="bg-white p-6 rounded-lg shadow-sm space-y-4">
                        <input className="w-full p-3 border rounded-lg" placeholder="ì†Œì† í•™ê³¼ (ì˜ˆ: ìœ ì•„êµìœ¡ê³¼)" value={profile.major} onChange={e => setProfile({...profile, major: e.target.value})} />
                        <textarea className="w-full p-3 border rounded-lg" placeholder="í¥ë¯¸/ê´€ì‹¬ ë¶„ì•¼" rows={2} value={profile.interests} onChange={e => setProfile({...profile, interests: e.target.value})} />
                        <textarea className="w-full p-3 border rounded-lg" placeholder="ì ì„±/ì§„ë¡œ í¬ë§" rows={2} value={profile.aptitude} onChange={e => setProfile({...profile, aptitude: e.target.value})} />
                        <button onClick={handleAnalyze} disabled={loading} className="w-full bg-blue-600 text-white py-4 rounded-lg font-bold hover:bg-blue-700">
                            {loading ? 'ë¶„ì„ ì¤‘...' : 'AI ì¶”ì²œ ë¶„ì„ ì‹œì‘í•˜ê¸°'}
                        </button>
                    </div>
                    {results && (
                        <div className="space-y-6 animate-fade-in">
                            <h3 className="text-xl font-bold">ğŸ¯ AI ë¶„ì„ ê²°ê³¼</h3>
                            <div className="bg-blue-50 p-4 rounded text-blue-800 text-sm"><strong>ë¶„ì„ ìš”ì•½:</strong> {profile.major} ì „ê³µ ê¸°ë°˜ ë§ì¶¤ ì¶”ì²œì…ë‹ˆë‹¤.</div>
                            {/* Simple Cards for Results */}
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                {results.microDegrees.map((m, i) => (
                                    <div key={i} className="bg-white p-4 rounded shadow border-l-4 border-purple-500">
                                        <h4 className="font-bold">{m.title}</h4>
                                        <p className="text-sm text-gray-500">{m.dept}</p>
                                        <p className="text-xs text-gray-600 mt-2 bg-gray-50 p-2">{m.reason}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // 4.3 CurriculumDesign View (Themed)
        const CurriculumDesignView = () => {
            const THEME_CONFIG = {
                self_module: { color: 'blue', label: 'ìê¸°ì„¤ê³„ëª¨ë“ˆ', desc: 'ììœ ë¡­ê²Œ ëª¨ë“ˆì„ ì¡°í•©í•˜ì—¬ ë‚˜ë§Œì˜ ì»¤ë¦¬í˜ëŸ¼ì„ ì„¤ê³„í•©ë‹ˆë‹¤.', styles: { bg: 'bg-blue-50', border: 'border-blue-200', text: 'text-blue-600', badge: 'bg-blue-100 text-blue-700', ring: 'ring-blue-500', accentBorder: 'border-blue-500' } },
                double: { color: 'purple', label: 'ë³µìˆ˜ì „ê³µ', desc: 'ì œ1ì „ê³µê³¼ í•¨ê»˜ íƒ€ ì „ê³µ í•™ìœ„ë¥¼ ì·¨ë“í•˜ê¸° ìœ„í•œ 36í•™ì  ì„¤ê³„ ê³¼ì •ì…ë‹ˆë‹¤.', styles: { bg: 'bg-purple-50', border: 'border-purple-200', text: 'text-purple-600', badge: 'bg-purple-100 text-purple-700', ring: 'ring-purple-500', accentBorder: 'border-purple-500' } },
                minor: { color: 'green', label: 'ë¶€ì „ê³µ', desc: 'íƒ€ ì „ê³µì˜ í•µì‹¬ êµê³¼ëª© 21í•™ì  ì´ìƒì„ ì´ìˆ˜í•˜ì—¬ ë¶€ì „ê³µì„ ì·¨ë“í•©ë‹ˆë‹¤.', styles: { bg: 'bg-green-50', border: 'border-green-200', text: 'text-green-600', badge: 'bg-green-100 text-green-700', ring: 'ring-green-500', accentBorder: 'border-green-500' } },
                self_major: { color: 'indigo', label: 'ìê¸°ì„¤ê³„ì „ê³µ', desc: 'ê¸°ì¡´ì— ì—†ë˜ ìƒˆë¡œìš´ ì „ê³µ ëª…ì¹­ê³¼ í•™ìœ„ë¥¼ ìŠ¤ìŠ¤ë¡œ ì„¤ê³„í•˜ëŠ” ìœµí•© ê³¼ì •ì…ë‹ˆë‹¤.', styles: { bg: 'bg-indigo-50', border: 'border-indigo-200', text: 'text-indigo-600', badge: 'bg-indigo-100 text-indigo-700', ring: 'ring-indigo-500', accentBorder: 'border-indigo-500' } }
            };

            const [degreeType, setDegreeType] = useState('self_module');
            const [tracks, setTracks] = useState([{ id: 1, title: 'ë‚˜ì˜ ì„¤ê³„ëª¨ë“ˆ 1', subjects: [] }, { id: 2, title: 'ë‚˜ì˜ ì„¤ê³„ëª¨ë“ˆ 2', subjects: [] }]);
            const [activeTab, setActiveTab] = useState('major');
            const currentTheme = THEME_CONFIG[degreeType];

            const handleDegreeChange = (type) => {
                setDegreeType(type);
                if (type === 'double' || type === 'minor') {
                    setTracks([{ id: 1, title: 'ì œ1ì „ê³µ', subjects: [{ id: 'm1', name: 'ê¸°ì¡´ì´ìˆ˜ê³¼ëª©', credit: 3, dept: 'ìœ ì•„êµìœ¡ê³¼' }] }, { id: 2, title: type === 'double' ? 'ë³µìˆ˜ì „ê³µ' : 'ë¶€ì „ê³µ', subjects: [] }]);
                } else {
                    setTracks([{ id: 1, title: 'ë‚˜ì˜ ì„¤ê³„ëª¨ë“ˆ 1', subjects: [] }, { id: 2, title: 'ë‚˜ì˜ ì„¤ê³„ëª¨ë“ˆ 2', subjects: [] }]);
                }
            };

            const handleAddSubject = (trackIndex) => {
                const newTracks = [...tracks];
                newTracks[trackIndex].subjects.push({ id: Date.now(), name: 'ì¶”ê°€ëœ ê³¼ëª©', credit: 3, dept: 'í…ŒìŠ¤íŠ¸' });
                setTracks(newTracks);
            };

            return (
                <div className="space-y-6 animate-fade-in">
                    <h2 className="text-3xl font-bold mb-1">ë‚˜ì˜ ëª¨ë“ˆ ì„¤ê³„</h2>
                    {/* Goal Setting */}
                    <div className={`p-6 rounded-lg shadow-sm border-l-4 ${currentTheme.styles.accentBorder} bg-white`}>
                        <h3 className="text-lg font-bold mb-4">1. ì´ìˆ˜ ëª©í‘œ ì„¤ì •</h3>
                        <div className="flex flex-wrap gap-4 mb-4">
                            {Object.keys(THEME_CONFIG).map(key => (
                                <label key={key} className="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="degreeType" value={key} checked={degreeType === key} onChange={() => handleDegreeChange(key)} className="accent-blue-600" />
                                    <span className={degreeType === key ? `font-bold text-${THEME_CONFIG[key].color}-700` : 'text-gray-600'}>{THEME_CONFIG[key].label}</span>
                                </label>
                            ))}
                        </div>
                        <p className={`text-sm p-3 rounded-lg ${currentTheme.styles.bg} ${currentTheme.styles.text}`}>ğŸ’¡ {currentTheme.desc}</p>
                    </div>

                    {/* Workspace */}
                    <div className="grid grid-cols-1 lg:grid-cols-5 gap-6 h-[600px]">
                        <div className={`lg:col-span-2 bg-white rounded-lg shadow-sm border ${currentTheme.styles.border} flex flex-col`}>
                            <div className={`p-4 border-b ${currentTheme.styles.bg} ${currentTheme.styles.border}`}>
                                <h3 className="font-bold text-gray-800">2. êµê³¼ëª© ë¼ì´ë¸ŒëŸ¬ë¦¬</h3>
                                <div className="flex text-sm mt-4 border-b">
                                    {['ì „ê³µ', 'êµì–‘', 'ë¹„êµê³¼'].map((label, i) => (
                                        <button key={i} className="flex-1 pb-2 text-gray-600 hover:text-blue-600">{label}</button>
                                    ))}
                                </div>
                            </div>
                            <div className="p-4 overflow-y-auto flex-1 space-y-2">
                                <div className="border rounded p-3 flex justify-between items-center hover:bg-gray-50">
                                    <div><p className="font-bold text-sm">ì˜ˆì‹œ ê³¼ëª© A</p><p className="text-xs text-gray-500">3í•™ì </p></div>
                                    <button onClick={() => handleAddSubject(tracks.length - 1)} className={`text-xs border px-2 py-1 rounded ${currentTheme.styles.text} ${currentTheme.styles.border}`}>+ ì¶”ê°€</button>
                                </div>
                                <div className="border rounded p-3 flex justify-between items-center hover:bg-gray-50">
                                    <div><p className="font-bold text-sm">ì˜ˆì‹œ ê³¼ëª© B</p><p className="text-xs text-gray-500">3í•™ì </p></div>
                                    <button onClick={() => handleAddSubject(tracks.length - 1)} className={`text-xs border px-2 py-1 rounded ${currentTheme.styles.text} ${currentTheme.styles.border}`}>+ ì¶”ê°€</button>
                                </div>
                            </div>
                        </div>

                        <div className={`lg:col-span-3 bg-white rounded-lg shadow-sm border ${currentTheme.styles.border} flex flex-col`}>
                            <div className={`p-4 border-b ${currentTheme.styles.bg} ${currentTheme.styles.border}`}>
                                <h3 className="font-bold text-gray-800">3. ë‚˜ì˜ ì„¤ê³„ í˜„í™©</h3>
                            </div>
                            <div className="p-6 flex-1 overflow-y-auto space-y-6 bg-slate-50">
                                {tracks.map((track, idx) => (
                                    <div key={track.id} className={`rounded-xl border-2 bg-white p-4 ${idx === tracks.length-1 ? currentTheme.styles.accentBorder : 'border-gray-200'}`}>
                                        <h4 className={`font-bold mb-2 ${currentTheme.styles.text}`}>{track.title}</h4>
                                        <div className="flex flex-wrap gap-2">
                                            {track.subjects.map((sub, i) => (
                                                <div key={i} className="bg-white border rounded px-3 py-2 text-sm shadow-sm">{sub.name}</div>
                                            ))}
                                            {track.subjects.length === 0 && <p className="text-xs text-gray-400">ê³¼ëª©ì„ ì¶”ê°€í•˜ì„¸ìš”.</p>}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // 4.4 LearningHistory & ModuleExploration (Placeholders for single file brevity)
        const LearningHistoryView = () => <div className="p-6 bg-white rounded shadow">í•™ìŠµ ì´ë ¥ í™”ë©´ (ë‚´ìš© ìƒëµ - ëŒ€ì‹œë³´ë“œ ì°¸ê³ )</div>;
        const ModuleExplorationView = () => <div className="p-6 bg-white rounded shadow">ëª¨ë“ˆ íƒìƒ‰ í™”ë©´ (ë‚´ìš© ìƒëµ - ëŒ€ì‹œë³´ë“œ ì°¸ê³ )</div>;


        // --- 5. MAIN APP ---
        const App = () => {
            const [currentView, setCurrentView] = useState(ViewState.DASHBOARD);
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);

            const NavItem = ({ view, label, icon: Icon }) => (
                <li>
                    <button
                        onClick={() => { setCurrentView(view); setIsMobileMenuOpen(false); }}
                        className={`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left transition-colors ${currentView === view ? 'bg-blue-100 text-blue-700 font-semibold' : 'text-gray-700 hover:bg-gray-100'}`}
                    >
                        <Icon className="w-5 h-5" /> {label}
                    </button>
                </li>
            );

            const SidebarContent = () => (
                <>
                    <div className="flex justify-between items-center mb-8">
                        <h1 className="text-xl font-bold text-gray-900">TU í•™ìŠµì„¤ê³„ AI</h1>
                        {isMobileMenuOpen && <button onClick={() => setIsMobileMenuOpen(false)} className="lg:hidden text-gray-500"><XIcon className="w-6 h-6" /></button>}
                    </div>
                    <nav className="flex-1">
                        <ul className="space-y-2">
                            <NavItem view={ViewState.DASHBOARD} label="ëŒ€ì‹œë³´ë“œ" icon={DashboardIcon} />
                            <NavItem view={ViewState.LEARNING_HISTORY} label="í•™ìŠµ ì´ë ¥" icon={HistoryIcon} />
                            <NavItem view={ViewState.MODULE_EXPLORATION} label="ëª¨ë“ˆ íƒìƒ‰" icon={ExploreIcon} />
                            <NavItem view={ViewState.CURRICULUM_DESIGN} label="ë‚˜ì˜ ëª¨ë“ˆ ì„¤ê³„" icon={DesignIcon} />
                            <NavItem view={ViewState.AI_RECOMMENDATION} label="AI ì¶”ì²œ" icon={AiIcon} />
                            <li>
                                <a href="#" className="w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="w-5 h-5" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                                    ì»¤ë®¤ë‹ˆí‹°
                                </a>
                            </li>
                        </ul>
                    </nav>
                </>
            );

            return (
                <div className="flex h-screen bg-gray-100">
                    <aside className="w-64 bg-white p-6 border-r hidden lg:flex flex-col fixed h-full z-10"><SidebarContent /></aside>
                    {isMobileMenuOpen && (
                        <div className="fixed inset-0 z-50 lg:hidden">
                            <div className="fixed inset-0 bg-black/50 backdrop-blur-sm animate-fade-in" onClick={() => setIsMobileMenuOpen(false)}></div>
                            <aside className="fixed inset-y-0 left-0 w-64 bg-white p-6 shadow-xl flex flex-col animate-slide-in-left"><SidebarContent /></aside>
                        </div>
                    )}
                    <main className="flex-1 lg:ml-64 overflow-y-auto">
                        <div className="p-6 max-w-7xl mx-auto">
                            <div className="flex justify-between items-center mb-6">
                                <button className="lg:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100" onClick={() => setIsMobileMenuOpen(true)}>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                                </button>
                                <div className="hidden lg:block"></div>
                                <div className="relative w-full max-w-xs">
                                    <input type="text" placeholder="ëª¨ë“ˆëª…, êµê³¼ëª©ëª… ê²€ìƒ‰..." className="w-full pl-10 pr-4 py-2 border rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white" />
                                    <svg className="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                                </div>
                            </div>
                            {currentView === ViewState.DASHBOARD && <DashboardView />}
                            {currentView === ViewState.AI_RECOMMENDATION && <AiRecommendationView />}
                            {currentView === ViewState.LEARNING_HISTORY && <LearningHistoryView />}
                            {currentView === ViewState.MODULE_EXPLORATION && <ModuleExplorationView />}
                            {currentView === ViewState.CURRICULUM_DESIGN && <CurriculumDesignView />}
                        </div>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

